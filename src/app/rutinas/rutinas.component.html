<c-modal #verticallyCenteredModal alignment="center" id="verticallyCenteredModal">
  <c-modal-header>
    <h5 cModalTitle>Eliminar Rutina</h5>
    <button [cModalToggle]="verticallyCenteredModal.id" cButtonClose></button>
  </c-modal-header>
  <c-modal-body>
    ¿Está seguro que desea eliminar el usuario {{deletedRutina.nombre}}?
  </c-modal-body>
  <c-modal-footer>
    <c-button-group aria-label="Basic example" role="group">
        <button [cModalToggle]="verticallyCenteredModal.id" cButton color="primary" (click)="deleteRutina()">Confirmar</button>
        <button [cModalToggle]="verticallyCenteredModal.id" cButton color="secondary">Cancelar</button>
    </c-button-group>
  </c-modal-footer>
</c-modal>
<div class="d-grid gap-2" @inOut>
  <button cButton color="primary" (click)="createRutina()">
      <svg cIcon name="cilPlaylistAdd" size="lg" title="Nuevo Rutina"></svg> Nueva Rutina
  </button>
</div>
<c-accordion [alwaysOpen]="true" [flush]="true" @inOut>
    <c-accordion-item #item0="cAccordionItem" [visible]="true" *ngFor="let rutina of rutinas; index as i;" class="mt-2">
      <ng-template cTemplateId="accordionHeaderTemplate">
        <button (click)="item0.toggleItem()" [collapsed]="item0.visible" cAccordionButton [cTextColor]="'primary'">
            <strong>{{i+1}} - {{rutina.nombre}}</strong> 
        </button>
      </ng-template>
      <ng-template cTemplateId="accordionBodyTemplate">
        <div class="accordion-body">
          {{rutina.descripcion}}
        </div>
        <c-row>
            <c-col>
              <c-card>
                <c-card-header [cTextColor]="'primary'" class="text-center"> 
                  <cite>Ejercicios</cite>
                </c-card-header>
                <c-card-body>
                  <c-row>
                      <c-col sm="3" *ngFor="let ejercicio of rutina.ejercicios; index as i;">
                          <div class="border-start border-start-4 border-start-primary py-1 px-3">
                            <div class="text-medium-emphasis">{{ejercicio.ejercicio.nombre}}</div>
                            <div class="text-medium-emphasis small">Series: {{ejercicio.series}}</div>
                            <div class="text-medium-emphasis small">Repeticiones: {{ejercicio.cantidadRepeticiones}}</div>
                          </div>
                      </c-col>
                  </c-row>
                  <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-2">
                    <button cButton color="primary" cTooltip="Asignar Rutina" cTooltipPlacement="right" (click)="asignarRutina(rutina)">
                      <svg cIcon name="cilArrowThickFromLeft" size="xs" title="Asignar Rutina"></svg>
                    </button>
                    <button [cModalToggle]="verticallyCenteredModal.id" cButton color="secondary" variant="ghost" cTooltip="Eliminar Rutina" cTooltipPlacement="top" class="me-1" (click)="setDeleteRutina(rutina)">
                      <svg cIcon name="cilXCircle" size="lg" title="Eliminar Rutina"></svg>
                    </button>
                  </div>
              </c-card-body>
            </c-card>
          </c-col>
        </c-row>
    </ng-template>
  </c-accordion-item>
</c-accordion>